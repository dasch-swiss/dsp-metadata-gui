# Conversion to V2

The metadata generated by the application conforms to the first version of the data model for metadata.  
This corresponds to the data that can currently be viewed in the [DaSCH Metadata Browser](https://meta.dasch.swiss).

The initial datamodel will eventually be replaced by the model V2 which introduces major improvements.  
Metadata V2 will evbentually be collected directly in the web interface rather than in this python application.  
In the mean time until the web interface for editing metadata is implemented, this application provides a script to automatically convert V1 `.ttl` files into V2 `.json` files.



## Model V2

The most important changes from V1 to V2 include the following additions:

- Support for multi-language literals.

- `howToCite` on project level

- `country` property for addresses.

- Creation and modification timestamps.

- JSON-Schema validation



## Using the Conversion

TODO!



## Manual Post-Processing

The conversion can not be fully automated, as the model V2 is more rich in information than V1.

For convenience, the conversion adds the string `XX` wherever the output can not be determined with sufficient confidence.
__Please check those instances manually.__  
Simply open the output file in a terxt editor and search for `XX`.

The conversion also does some "guessing" work, as e.g. the language of literal values or the display text for URLs.
If the output can be determined with a sufficient level of confidence, the conversion will ___not___ add `XX`.
__However it is still advisable to check the entirety of the output for potential errors.__

As the model V2 supports JSON-Schema validation, it is also advisable to open the output file in a text editor that supports JSON Schema validation.
(E.g. Visual Studio Code which automatically validates JSON files that have a schema specified.)  
This will highlight potential issues with the data.  
> Note: The schema validates URLs as URIs. It will therefor consider URLs without scheme as invalid,
> i.e. `meta.dasch.swiss` will be highlighted as invalid, whereas `https://meta.dasch.swiss` will be valid.  
> These warnings can safely be ignored, or the schemes can be added to get rid of the warnings.
